javascript:(function(){function init(){$("body").html('<div id="user"><div id="login"><form> <input type="text" name="username" id="username" required="required" placeholder="Username"><input type="password" name="password" id="password" required="required" placeholder="Password"><input type="submit" id="button-login" value="Login"></form></div><div  id="account">	</div><div id="portfolio"></div></div><form class="search"><input type="text" id="symbol-search" placeholder="Symbol" maxlength="5"><input  type="submit" id="button-search" value="Search"></form><div id="search-results"></div><style>body{padding:0;margin:2% auto;width:50%;min-width:600px;font-family:Helvetica,Arial,sans-serif}button,input[type=submit]{color:#fff;height:36px;background-color:#337ab7;padding:6px 12px;font-size:14px;font-weight:400;border:1px solid transparent;border-radius:4px;cursor:pointer}input[type=text],input[type=password]{box-sizing: border-box;height:36px;padding:6px 12px;color:#555;background-color:#fff;border:1px solid #ccc;border-radius:4px}#login,#search,.stock{display:flex;align-items:center}#user{min-height:20px;padding:10px;margin:10px 0;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:4px}.stock{padding:10px}.stock a{padding:2px;margin:0 2px;text-decoration:none;color:#00008b;font-size:24px;border-radius:5px}.quantity-shares{font-size:24px;}.quantity{width:40px}.symbol{color:#000}.price::before{content:"$"}.change-up{background-color:green}.change-down{background-color:red}</style>'),$("head").empty(),$("#button-login").click(function(t){t.preventDefault(),$.ajax({url:"https://api.robinhood.com/api-token-auth/",data:{username:$("#username").val(),password:$("#password").val()},type:"POST",crossDomain:!0,dataType:"json"}).done(function(t){$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("Authorization","Token "+t.token)}}),$.ajax("https://api.robinhood.com/accounts/").done(function(t){window.account=t.results[0].url;var o=t.results[0].cash_balances;$("#login").hide(),$("#account").html("$"+o.cash.replace(/00$/,"")+" - $"+o.cash_held_for_orders.replace(/00$/,"")+" pending orders  + $"+o.uncleared_deposits.replace(/00$/,"")+" pending deposits via iPhone").removeClass("hide").show(),$.ajax(t.results[0].positions).done(function(t){for(var o in t.results)$.ajax(t.results[o].instrument).done(function(t){$.ajax("https://api.robinhood.com/quotes/"+t.symbol+"/").done(function(t){var o=$('<div class="stock" ><a  class=" '+(parseFloat(t.last_trade_price)>=parseFloat(t.previous_close)?"change-up":"change-down")+'" target="_blank" href="https://www.google.com/finance?q='+t.symbol+'"><span class="symbol">'+t.symbol+'</span> <span class="price" >'+t.last_trade_price.replace(/00$/,"")+'</span></a> <div class="quantity-shares">'+this.q+"</div>&nbsp; -"+(this.r.shares_held_for_sells+" +"+this.r.shares_held_for_buys).replace(/\.0000/g,"")+(this.q > 0 ? '&nbsp;<input type="text" class="quantity" placeholder="#" maxlength="3" value="1"><input type="submit" class="button-sell" value="Sell" >':'')+"</div>");o.find(".button-sell").click(e),$("#portfolio").append(o)}.bind({r:this.r,q:parseInt(this.r.quantity)}))}.bind({r:t.results[o]}))})})}).error(function(){alert("Login failed")})}),$("#button-search").click(function(t){t.preventDefault(),$.ajax("https://api.robinhood.com/quotes/"+$("#symbol-search").val().toUpperCase()+"/").done(function(t){var o=$('<div class="stock" ><a  class=" '+(parseFloat(t.last_trade_price)>=parseFloat(t.previous_close)?"change-up":"change-down")+'" target="_blank" href="https://www.google.com/finance?q='+t.symbol+'"><span class="symbol">'+t.symbol+'</span> <span class="price" >'+t.last_trade_price.replace(/00$/,"")+"</span></a> "+(window.account?'<input type="text" class="quantity" maxlength="3" value="1"><input type="submit" class="button-buy" value="Buy" >':"")+"</div>");o.find(".button-buy").click(e),$("#search-results").prepend(o)})});var e=function(){$.ajax("https://api.robinhood.com/instruments/?query="+$(this).closest(".stock").find(".symbol").text()).done(function(e){$.ajax({method:"POST",url:"https://api.robinhood.com/orders/",data:{time_in_force:"gfd",trigger:"immediate",type:"market",account:window.account,instrument:e.results[0].url,side:this.side,symbol:this.div.find(".symbol").text(),price:this.div.find(".price").text(),quantity:this.div.find(".quantity").val()}}).done(function(){alert("Order success, check email for confirmation.")}).error(function(e){var t=e.responseJSON;alert(t&&(t.detail||t.quantity)?t.detail||t.quantity:e.responseText)})}.bind({div:$(this).closest(".stock"),side:"button-buy"==this.className?"buy":"sell"}))}}if(-1==window.location.host.indexOf("robinhood.com"))window.location.href="https://api.robinhood.com/",alert("Run again with the Robinhood.com tab active to use this unofficial interface created by github.com/gulakov");else{var s=document.createElement("script");s.src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js",s.addEventListener("load",init,!1),document.body.appendChild(s)}})()
